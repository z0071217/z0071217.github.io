<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å†™æ–°æ—¥è®°</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/themes/default.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/themes/default.date.css">
  <style>body{background:#111;color:#eee;}</style>
</head>
<body class="p-4 font-mono">
  <h1 class="text-2xl mb-4 neon-text">å†™ æ–° æ—¥ è®°</h1>
  <form id="form" class="space-y-4 max-w-xl">
    <div>
      <label>æ—¥æœŸ</label>
      <input id="date" type="text" class="bg-gray-800 w-full p-2 rounded" required>
    </div>
    <div>
      <label>å¡«å†™è€…</label>
      <select id="author" class="bg-gray-800 w-full p-2 rounded">
        <option>å°çŒ« ğŸ±</option>
        <option>å°ç‹— ğŸ¶</option>
        <option>å°ç†Š ğŸ»</option>
      </select>
    </div>
    <div>
      <label>å†…å®¹</label>
      <textarea id="text" class="bg-gray-800 w-full p-2 rounded" rows="6" required></textarea>
    </div>
    <div>
      <label>å›¾ç‰‡ URLï¼ˆå¯é€‰ï¼‰</label>
      <input id="img" type="url" class="bg-gray-800 w-full p-2 rounded" placeholder="https://i.imgur.com/xxx.png">
    </div>
    <button type="submit" class="bg-cyan-600 px-4 py-2 rounded neon">ä¿å­˜</button>
  </form>
  <a href="index.html" class="inline-block mt-6 text-cyan-400">â† è¿”å›é¦–é¡µ</a>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/picker.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pickadate@3.6.4/lib/compressed/picker.date.js"></script>
  <script>
    $('#date').pickadate({ format:'yyyy-mm-dd', max:true });

    document.getElementById('form').addEventListener('submit',async e=>{
      e.preventDefault();
      const entry = {
        date: document.getElementById('date').value,
        author: document.getElementById('author').value,
        text: document.getElementById('text').value,
        img: document.getElementById('img').value
      };
      // è¿™é‡Œç®€åŒ–ï¼šå¼¹å‡º data.json çš„ GitHub åœ¨çº¿ç¼–è¾‘ URL
      const encoded = encodeURIComponent(JSON.stringify([entry],null,2));
      const url = `https://github.com/YOUR_USERNAME/diary/edit/main/data.json`;
      alert('ä¿å­˜æ­¥éª¤ï¼š\n1. å¤åˆ¶ä¸‹é¢å†…å®¹\n2. ç²˜è´´è¿› data.json æœ€å¤–å±‚æ•°ç»„é‡Œ\n3. Commit\n'+JSON.stringify(entry,null,2));
      window.open(url,'_blank');
    });
  </script>
</body>
</html>